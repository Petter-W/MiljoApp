function getUrlVars(){for(var t=[],n,e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<e.length;i++)n=e[i].split("="),t.push(n[0]),t[n[0]]=n[1];return t}function resetThis(t){$("#mainContent").html(""),$(".active").removeClass("active"),$(t).addClass("active")}function getInfoFromJSON(){resetThis(".info");var t=getUrlVars().item,n=t[0].toUpperCase()+t.slice(1),e="json/"+getUrlVars().subcat+".json";$.getJSON(e).done(function(t){var e="";$.each(t.garbage,function(t,i){i.URLfriendlyName===n.toLowerCase()&&$.each(this.info,function(){e+=this.value?"<p class='do infoline'>":"<p class='dont infoline'>",e+=this.text+"<span class='dropDownButton'></span></p>",e+="<p class='additionalInfo'>"+this.additionalInfo+"</p>"})}),$("#mainContent").append(e+"<p class='normalText info1'></p>")})}function getTips(){resetThis(".tips");var t=getUrlVars().item,n=t[0].toUpperCase()+t.slice(1),e="json/"+getUrlVars().subcat+".json";console.log(e),$.getJSON(e).done(function(t){$.each(t.garbage,function(t,e){e.URLfriendlyName===n.toLowerCase()&&(console.log(e.name),$("#mainContent").html("<p class='tipstext'>"+this.tips+"</p>"))})})}function getMap(){var t=getUrlVars().item,n=t[0].toUpperCase()+t.slice(1),e="json/"+getUrlVars().subcat+".json";console.log(e),$.getJSON(e).done(function(t){$.each(t.garbage,function(t,e){if(e.URLfriendlyName===n.toLowerCase())if(console.log(this.needMap),this.needMap){$("#mainContent").html("<div id='map'></div>");var i=L.mapbox.map("map","petterw.i3p7eghi");L.control.locate().addTo(i)}else $("#mainContent").html("<p class='tipstext'>Kast i din lokale s√∏ppelkasse.</p>")})}),resetThis(".map")}function init(){getInfoFromJSON()}$(document).ready(function(){var t="json/"+getUrlVars().subcat+".json";$.getJSON(t).done(function(t){$.each(t.garbage,function(t,n){getUrlVars().item===n.URLfriendlyName&&$("#mainContent").before("<h1>"+n.title+"</h1>")})}),$("#mainContent").on("click",".infoline",function(){$(this).next(".additionalInfo").hasClass("activeAditional")?($(this).next(".additionalInfo").slideUp("fast"),$(".activeAditional").removeClass("activeAditional")):($(".activeAditional").slideUp("fast").removeClass("activeAditional"),$(this).next(".additionalInfo").addClass("activeAditional"),$(this).next(".additionalInfo").slideDown("fast"))}),$("a[href='#']").attr("href","category.html?category="+getUrlVars().subcat),$(document).on("click",".tips",function(){getTips()}),$(document).on("click",".map",function(){getMap()}),$(document).on("click",".info",function(){getInfoFromJSON()})}),function(){init()}();